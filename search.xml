<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Linux与Windows实现文件共享</title>
      <link href="/post/916665000.html"/>
      <url>/post/916665000.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux与Windows实现文件共享"><a href="#Linux与Windows实现文件共享" class="headerlink" title="Linux与Windows实现文件共享"></a>Linux与Windows实现文件共享</h1><h3 id="使用软件：-Samba"><a href="#使用软件：-Samba" class="headerlink" title="使用软件： Samba"></a>使用软件： Samba</h3><h3 id="演示系统：Ubuntu20-04-3-LTS"><a href="#演示系统：Ubuntu20-04-3-LTS" class="headerlink" title="演示系统：Ubuntu20.04.3 LTS"></a>演示系统：Ubuntu20.04.3 LTS</h3><h3 id="环境：局域网连接，服务器内网ip固定"><a href="#环境：局域网连接，服务器内网ip固定" class="headerlink" title="环境：局域网连接，服务器内网ip固定"></a>环境：局域网连接，服务器内网ip固定</h3><h3 id="安装流程："><a href="#安装流程：" class="headerlink" title="安装流程："></a>安装流程：</h3><h5 id="1-获取apt软件包"><a href="#1-获取apt软件包" class="headerlink" title="1.获取apt软件包"></a>1.获取apt软件包</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install samba samba-common</span><br></pre></td></tr></table></figure><p>这里包含两个包，一个是samba本体一个是相关工具包</p><p>附卸载命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove samba</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/08/22/PXaqypxNzYs7h5J.png" alt="2022-08-19_17-10_1.png"></p><p><img src="https://s2.loli.net/2022/08/22/CGSx1Rct5IL9Q3f.png" alt="2022-08-19_17-10.png"></p><h5 id="2-建立一个共享用的samba访问目录，并提升目录的权限"><a href="#2-建立一个共享用的samba访问目录，并提升目录的权限" class="headerlink" title="2.建立一个共享用的samba访问目录，并提升目录的权限"></a>2.建立一个共享用的samba访问目录，并提升目录的权限</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /home/rouphy/workspace<span class="comment"># 创建目录</span></span><br><span class="line"><span class="built_in">chmod</span> 777 /home/rouphy/workspace<span class="comment"># 提权</span></span><br></pre></td></tr></table></figure><p>这里以我个人用户名 <em>rouphy</em> 为例创建，下文同理</p><p><img src="https://s2.loli.net/2022/08/22/N6yFPXCxfzh5wme.png" alt="2022-08-19_17-11.png"></p><h5 id="3-为samba服务添加用户"><a href="#3-为samba服务添加用户" class="headerlink" title="3. 为samba服务添加用户"></a>3. 为samba服务添加用户</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo smbpasswd -arouphy</span><br></pre></td></tr></table></figure><p>此时窗口会要求设置Samba的密码，为方便记忆，推荐设置为与系统账户一致</p><h5 id="4-配置smb-conf"><a href="#4-配置smb-conf" class="headerlink" title="4.配置smb.conf"></a>4.配置smb.conf</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit /etc/samba/smb.conf</span><br></pre></td></tr></table></figure><p>用<strong>vi</strong>或者是<strong>gedit</strong>打开<code>/etc/samba/</code>路径下的<code>smb.conf</code>文件，在文件最末尾添加以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[share]</span><br><span class="line">comment=This is samba dir</span><br><span class="line">path=/home/rouphy/workspace</span><br><span class="line">create mask=0755</span><br><span class="line">directory mask=0755</span><br><span class="line">writeable=yes</span><br><span class="line">valid users=rouphy</span><br><span class="line">browseable=yes</span><br></pre></td></tr></table></figure><p>其中<strong>path</strong>后面的路径即是事先创建并提权的共享目录，<strong>valid user</strong>是访问Samba的用户名，配置完成之后保存即可<br><img src="https://s2.loli.net/2022/08/22/3FOUSra6kTVChzc.png" alt="2022-08-19_17-07_1.png"></p><h5 id="5-重启Samba服务"><a href="#5-重启Samba服务" class="headerlink" title="5.重启Samba服务"></a>5.重启Samba服务</h5><p>在配置smb.conf文件后需要重启Samba服务才能生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/smbd restart</span><br></pre></td></tr></table></figure><p>或者手动停止和启动</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/samba stop</span><br><span class="line">sudo /etc/init.d/samba start</span><br></pre></td></tr></table></figure><h5 id="6-在Windows下访问共享目录"><a href="#6-在Windows下访问共享目录" class="headerlink" title="6.在Windows下访问共享目录"></a>6.在Windows下访问共享目录</h5><p>win+r呼出运行窗口输入服务器IP地址</p><p><img src="https://s2.loli.net/2022/08/22/ANbMHLt8TfurPBZ.png" alt="image-20220819174928595.png"></p><p>点击确定即可访问共享目录</p><h5 id="附：小优化"><a href="#附：小优化" class="headerlink" title="附：小优化"></a>附：小优化</h5><p>Ubuntu系统下找不到共享文件夹？在桌面创建一个软连接罢！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/桌面/share/</span><br><span class="line"><span class="built_in">ln</span> -sd/home/rouphy/workspace/~/桌面/share/</span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/08/22/3AzoXpOLGV9t2S8.png" alt="2022-08-19_17-05.png"></p><p>创建完成后就可以在桌面上快速进入共享文件夹了</p><p>Windows也可以创建网络快捷方式到桌面，但在连接的时候记得勾选<em>记住凭证</em></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 小工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>服务器搭建</title>
      <link href="/post/cb9cca01.html"/>
      <url>/post/cb9cca01.html</url>
      
        <content type="html"><![CDATA[<h1 id="服务器搭建"><a href="#服务器搭建" class="headerlink" title="服务器搭建"></a>服务器搭建</h1><h3 id="系统：Ubuntu"><a href="#系统：Ubuntu" class="headerlink" title="系统：Ubuntu"></a><strong>系统：Ubuntu</strong></h3><h5 id="选择Ubuntu原因："><a href="#选择Ubuntu原因：" class="headerlink" title="选择Ubuntu原因："></a>选择Ubuntu原因：</h5><ul><li>CentOS取消支持</li><li>Ubuntu图形化占比大，容易上手</li></ul><h5 id="开始安装："><a href="#开始安装：" class="headerlink" title="开始安装："></a>开始安装：</h5><p>准备工具：镜像文件，Rufus软件，启动盘</p><ol><li><p>在官网<a href="Ubuntu%E5%AE%98%E7%BD%91">https://www.ubuntu.org.cn/global</a>找到镜像，选择更稳定的LTS（Long Time Service）长期服务版</p></li><li><p>打开rufus在 <em>引导类型选择</em> 项选择准备好的ubuntu镜像</p><p><img src="https://s2.loli.net/2022/08/22/72imwvoz3InyJxb.png" alt="image-20220811125657553.png"></p><p>按上图设置即可，点击确定按钮等待写入完成</p></li><li><p>将启动盘插入服务器主机，开机后进入BIOS，在CSM里找到UEFI选项<img src="https://s2.loli.net/2022/08/22/s4yznqF3MEITBji.png" alt="image-20220811130116172.png"></p></li><li><p>选择UEFI加传统模式启动，保存并重启</p></li><li><p>重启后再次进入BIOS选择启动盘启动，进入GRUB</p></li></ol><p><img src="https://s2.loli.net/2022/08/22/QnDRubxKXyeSI6F.png" alt="image-20220811131339665.png"></p><p>选择Ubuntu进入系统，选择安装，剩下的根据提示操作即可</p><h5 id="ubuntu的简单操作"><a href="#ubuntu的简单操作" class="headerlink" title="ubuntu的简单操作"></a>ubuntu的简单操作</h5><p>左侧导航条最下角是应用导航，相当于windows的启动导航</p><ul><li>快捷方式上右键可以快速关闭(quit)所有窗口(windows)</li><li>移动硬盘可以右键快速卸载</li><li>右上角的快捷栏可以进行关机操作</li><li>其他快捷键如下：</li></ul><table><thead><tr><th>快捷键</th><th>操作</th></tr></thead><tbody><tr><td>win+space</td><td>切换输入法</td></tr><tr><td>ctrl+alt(win)+D</td><td>显示桌面&#x2F;恢复窗口</td></tr><tr><td>win+L</td><td>锁定屏幕</td></tr><tr><td>alt+tab&#x2F;alt+tab+shift(反向)</td><td>切换窗口</td></tr><tr><td>alt+F2</td><td>运行</td></tr><tr><td>shift+F10</td><td>相当于鼠标右键</td></tr><tr><td>ctrl+H</td><td>显示&#x2F;不显示隐藏文件</td></tr><tr><td>alt+enter</td><td>显示文件属性</td></tr><tr><td>alt+home</td><td>切换到home目录</td></tr><tr><td>ctrl+Q</td><td>关闭应用</td></tr><tr><td><code>ctrl+alt+T</code></td><td>打开终端</td></tr><tr><td>ctrl+l</td><td>显示当前文件夹路径</td></tr><tr><td>win+[数字键]</td><td>打开导航栏从上往下数第[数字]个应用</td></tr></tbody></table><p>设置里有Keyboard Shortcuts可以自定义快捷键</p><hr><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a><strong>安装docker</strong></h3><h5 id="★流程"><a href="#★流程" class="headerlink" title="★流程:"></a>★流程:</h5><ol><li><p><strong>更新 apt 工具及索引，以支持 https 存储库</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install ca-certificates curl gnupg lsb-release</span><br></pre></td></tr></table></figure></li><li><p><strong>添加 Docker 官方 GPG 密钥（用于签名&#x2F;验证、加密&#x2F;解密）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br></pre></td></tr></table></figure></li><li><p><strong>设置 stable 版稳定存储库（区别于夜间版&#x2F;测试版 nightly &#x2F; test ）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(lsb_release -cs)</span> stable&quot;</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure></li><li><p><strong>更新 apt 工具及索引，并安装 Docker</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure></li><li><p><strong>验证 Docker Engine 是否正确安装（显示 “Hello from Docker!” 即为成功安装）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run hello-world</span><br></pre></td></tr></table></figure></li></ol><h5 id="问题描述1：连接不上下载节点"><a href="#问题描述1：连接不上下载节点" class="headerlink" title="问题描述1：连接不上下载节点"></a>问题描述1：连接不上下载节点</h5><hr><h5 id=""><a href="#" class="headerlink" title=""></a><img src="https://s2.loli.net/2022/08/22/Kiaw1XpF8YdSjov.jpg" alt="20220811203432.jpg"></h5><p>查CSDN得知有<code>两个解决方案</code>，网址：</p><p><a href="https://blog.csdn.net/qq_35759574/article/details/82862827">https://blog.csdn.net/qq_35759574/article/details/82862827</a></p><p><strong>方案一、换源</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/apt</span><br><span class="line">sudo <span class="built_in">cp</span> sources.list sources.list.bak</span><br><span class="line">sudo gedit sources.list<span class="comment"># 用gedit打开sources.list</span></span><br></pre></td></tr></table></figure><p>换成清华镜像源，改动需要root权限，sources.list内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span></span><br></pre></td></tr></table></figure><p>尝试后仍报错“无法安全地用该源进行更新，所以默认禁用该源”，再次求助于CSDN：</p><p><a href="https://blog.csdn.net/shangyexin/article/details/102657776">https://blog.csdn.net/shangyexin/article/details/102657776</a></p><p>该贴同样是更新apt使用的阿里源出现报错，分析问题是运营商的缓存劫持（我也不太懂）但是给出了解决办法：<code>再次换源</code></p><p>于是找到了阿里源：</p><p><a href="https://blog.csdn.net/weixin_44494373/article/details/110652692">https://blog.csdn.net/weixin_44494373/article/details/110652692</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><p>更换完成后再次尝试更新apt使其生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p><code>更换阿里源之后问题解决</code></p><p><strong>方案二、移除不兼容的architecture</strong>（未采用）</p><p>见网页</p><h5 id="问题描述2：添加GPG密钥时报错"><a href="#问题描述2：添加GPG密钥时报错" class="headerlink" title="问题描述2：添加GPG密钥时报错"></a>问题描述2：添加GPG密钥时报错</h5><hr><p>没有找到关键问题，于是回滚方法1重新更新apt工具及索引</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>这个时候又发现报错：</p><p><code>https://download.docker.com/linux/ubuntu focal Release</code></p><p>改了镜像源后还是访问这个 <em>404网站</em> ，于是在CSDN上寻找解决方法：</p><p><a href="https://blog.csdn.net/qq_45703270/article/details/115132480">https://blog.csdn.net/qq_45703270/article/details/115132480</a></p><p>在一个类似问题上找到了解决方案</p><p>看上去同样是由于<code>https://download.docker.com</code>此网站被添加到了软件源列表中，访问它时引起的报错；贴主给出的解决办法是把它从软件源列表中删除掉：</p><ul><li><p>将目录<code>/var/lib/apt/lists</code>下的以<code>download.docker</code>开头的两个文件删除：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>/var/lib/apt/lists/<span class="comment"># 切换路径</span></span><br><span class="line">sudo su<span class="comment"># 提升权限</span></span><br><span class="line"><span class="built_in">rm</span> -f download.docker.com_linux_ubuntu_dists_xenial_stable_binary-amd64_Packages </span><br><span class="line"><span class="built_in">rm</span> -f download.docker.com_linux_ubuntu_dists_xenial_InRelease</span><br></pre></td></tr></table></figure><p>重新更新apt仍然报错，说明还没有删干净</p></li><li><p>在<code>/etc/apt/sources.list.d</code>中存在两个文件 <code>docker.list</code>以及<code>docker.list.save</code>，仿照前面的操作将其强制删除：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span>/etc/apt/sources.list.d/<span class="comment"># 切换路径</span></span><br><span class="line">sudo su</span><br><span class="line"><span class="built_in">rm</span> -f docker.list</span><br><span class="line"><span class="built_in">rm</span> -f docker.list.save</span><br></pre></td></tr></table></figure><p>再次更新apt，不再报错，再次尝试添加GPG密钥，成功。</p></li></ul><h5 id="问题描述3：Docker安装完成后验证镜像失败"><a href="#问题描述3：Docker安装完成后验证镜像失败" class="headerlink" title="问题描述3：Docker安装完成后验证镜像失败"></a>问题描述3：Docker安装完成后验证镜像失败</h5><p>就在我以为大功告成的时候Docker Engine又给我整了个花活，验证安装最后一步：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker run hello-world</span><br></pre></td></tr></table></figure><p>得到的报错却是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker: Error response from daemon: Get &quot;https://registry-1.docker.io/v2&quot;: net/http: TLS handshake timeout.</span><br></pre></td></tr></table></figure><p>看样子又是源的问题，解决方案是<code>修改docker镜像源</code>，改成<strong>国内的镜像源</strong>就行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br><span class="line">gedit /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>修改&#x2F;etc&#x2F;docker&#x2F;下的daemon.json文件，用vim编辑器或者gedit都可以；添加或者替换文件内容为以下镜像站：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot; : [</span><br><span class="line">    &quot;https://registry.docker-cn.com&quot;,</span><br><span class="line">    &quot;https://docker.mirrors.ustc.edu.cn&quot;,</span><br><span class="line">    &quot;http://hub-mirror.c.163.com&quot;,</span><br><span class="line">    &quot;https://cr.console.aliyun.com/&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>保存后需要<code>重启Docker服务</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>重启服务后再次尝试验证安装，成功返回“Hello from Docker!”字样。</p><hr><h3 id="为Docker安装图形化操作界面Portainer"><a href="#为Docker安装图形化操作界面Portainer" class="headerlink" title="为Docker安装图形化操作界面Portainer"></a><strong>为Docker安装图形化操作界面Portainer</strong></h3><h5 id="★流程-1"><a href="#★流程-1" class="headerlink" title="★流程:"></a>★流程:</h5><ol><li><p><strong>创建 Portainer Server 存储数据库的卷</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker volume create portainer_data </span><br></pre></td></tr></table></figure></li><li><p><strong>下载并安装 Portainer Server 容器</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d -p 8000:8000 -p 9443:9443 --name portainer \</span><br><span class="line">    --restart=always \</span><br><span class="line">    -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">    -v portainer_data:/data \</span><br><span class="line">    portainer/portainer-ce:latest</span><br></pre></td></tr></table></figure></li><li><p><strong>查看 Docker 容器状态（NAMES 标签出现 portainer&#x2F;portainer-ce 则成功运行）</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker ps</span><br></pre></td></tr></table></figure></li><li><p><strong>使用 Ubuntu 自带的火狐浏览器访问（<a href="https://127.0.0.1:9443/%EF%BC%89">https://127.0.0.1:9443/）</a></strong><br><strong>或使用局域网内另一台计算机&#x2F;手机的浏览器访问（https:&#x2F;&#x2F;服务器的IP:9443&#x2F;）</strong></p></li><li><p><strong>对 Portainer 初始设置</strong><br>设置用户名及密码（8位字符或数字），点击 Get Started，载入后点击 local 即可</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
